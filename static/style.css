/* ===== Global ===== */
body {
  font-family: Arial, sans-serif;
  margin: 0;
  display: flex;
  background: #e9edf4;
  color: #1d1d1f;
  transition: background 0.3s, color 0.3s;
}
body.dark-mode { background: #121212; color: #eee; }

/* ===== Sidebar ===== */
.sidebar {
  width: 240px;
  padding: 20px;
  background: #f4f4f9;
  color: #1d1d1f;
  display: flex;
  flex-direction: column;
  gap: 14px;
  box-sizing: border-box;
  border-right: 1px solid #e0e0e0;

  /* Sticky Sidebar */
  position: sticky;
  top: 0;
  height: 100vh;
  overflow-y: auto;
}
body.dark-mode .sidebar {
  background: #1c1c1c;
  color: #fff;
  border-right: 1px solid #333;
}
.sidebar h2 { margin: 0 0 10px; font-weight: bold; }
.toggle-wrapper {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}
/* Sidebar buttons */
.sidebar .btn {
  background: #fff;
  color: #1d1d1f;
  border: none;
  border-radius: 12px;
  padding: 12px;
  text-align: left;
  font-size: 0.95rem;
  font-weight: 600;
  width: 100%;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  transition: background 0.2s, transform 0.2s;
}
.sidebar .btn:hover { background: #f0f0f0; transform: translateY(-2px); }
body.dark-mode .sidebar .btn { background: #2c2c2c; color: #fff; }
body.dark-mode .sidebar .btn:hover { background: #3a3a3a; }

/* ===== Apple-like Switch ===== */
.switch { position: relative; display: inline-block; width: 46px; height: 24px; }
.switch input { opacity: 0; width: 0; height: 0; }
.slider {
  position: absolute; cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: #ccc; transition: 0.4s; border-radius: 34px;
}
.slider:before {
  position: absolute; content: "";
  height: 18px; width: 18px;
  left: 3px; bottom: 3px;
  background-color: white;
  transition: 0.4s; border-radius: 50%;
}
input:checked + .slider { background-color: #2f6dfc; }
input:checked + .slider:before { transform: translateX(22px); }

/* ===== Main ===== */
.main { flex: 1; padding: 20px; }
.main h1 { text-align: center; margin: 6px 0 14px; }

/* ===== Search Bar ===== */
.search-bar {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  margin: 0 auto 18px;
}
.search-input-wrapper {
  display: flex;
  width: clamp(280px, 60vw, 680px);
}
.search-input-wrapper input {
  flex: 1;
  padding: 12px 16px;
  border: 1px solid #cfd6e4;
  border-right: 0;
  border-radius: 9999px 0 0 9999px;
  font-size: 1rem;
  background: #fff;
}
.search-input-wrapper .btn.primary {
  border-radius: 0 9999px 9999px 0;
  padding: 12px 18px;
  background: #2f6dfc;
  color: #fff;
  border: 1px solid #2f6dfc;
}
.search-bar select {
  height: 42px;
  padding: 0 14px;
  border: 1px solid #cfd6e4;
  border-radius: 9999px;
  background: #fff;
  font-size: 0.95rem;
}
body.dark-mode .search-input-wrapper input { background: #2a2a2a; color: #eee; border: 1px solid #555; }
body.dark-mode .search-bar select { background: #2a2a2a; color: #eee; border: 1px solid #555; }

/* ===== Buttons ===== */
.btn { padding: 8px 12px; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem; }
.btn.primary { background: #2f6dfc; color: #fff; }
.btn.danger { background: #e74c3c; color: #fff; }
.btn:hover { filter: brightness(0.98); }

/* ===== Book Grid ===== */
.book-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 18px;
}
.book-card {
  background: #fff;
  border-radius: 16px;
  padding: 12px;
  text-align: center;
  box-shadow: 0 3px 10px rgba(0,0,0,0.07);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.3s, color 0.3s;
}
.book-card:hover { transform: translateY(-4px); box-shadow: 0 10px 22px rgba(0,0,0,0.12); }
.book-card img {
  width: 100%; height: 240px; object-fit: cover;
  border-radius: 12px; margin-bottom: 8px;
}
.book-card h3 { font-size: 1rem; margin: 6px 0 2px; font-weight: 800; }
.book-card p { margin: 0; color: #61656d; }

/* Dark mode for book cards */
body.dark-mode .book-card {
  background: #1f1f1f !important;
  color: #eee !important;
  box-shadow: 0 3px 10px rgba(0,0,0,0.4);
}
body.dark-mode .book-card p { color: #ccc !important; }

/* ===== Modals ===== */
.modal {
  display: none; position: fixed; inset: 0; z-index: 1000;
  background: rgba(0,0,0,0.55);
  overflow-y: auto; padding: 20px;
}
.modal-content {
  background: #fff; color: #1d1d1f;
  width: 92%; max-width: 600px;
  margin: 60px auto; padding: 18px;
  border-radius: 14px; position: relative;
}
body.dark-mode .modal-content { background: #1f1f1f; color: #eee; }
.close { position: absolute; right: 14px; top: 10px; font-size: 1.6rem; cursor: pointer; }
.modal-content img { max-width: 100%; display: block; margin: 0 auto 12px; }

/* ðŸ”’ Fixed-size cover inside book detail modal */
.modal-cover {
  width: 300px;
  height: 500px;
  object-fit: cover;
  border-radius: 12px;
  display: block;
  margin: 0 auto 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

/* Delete button centered inside modals */
.modal-content form .btn.danger { display: block; margin: 14px auto 0; }

/* ===== Forms ===== */
form {
  display: flex;
  flex-direction: column;
  gap: 12px;
  background: #fff;
  padding: 16px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}
form input,
form select,
form textarea {
  padding: 10px 12px;
  border: 1px solid #cfd6e4;
  border-radius: 10px;
  font-size: 0.95rem;
  background: #fff;
  color: #1d1d1f;
  transition: background 0.3s, color 0.3s, border 0.3s;
}
body.dark-mode form { background: #2a2a2a; box-shadow: 0 2px 8px rgba(0,0,0,0.4); }
body.dark-mode form input,
body.dark-mode form select,
body.dark-mode form textarea {
  background: #3a3a3a;
  border: 1px solid #555;
  color: #eee;
}
/* Cover preview */
.cover-preview { text-align: center; margin-top: 6px; }
.cover-preview img {
  width: 120px; height: auto;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.18);
}

/* ===== Author List ===== */
.author-list { list-style: none; padding: 0; margin: 0; }
.author-row {
  display: flex; justify-content: space-between; align-items: center;
  padding: 10px 14px;
  background: #fff;
  border-radius: 10px;
  margin-bottom: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  transition: background 0.3s, color 0.3s;
}
body.dark-mode .author-row {
  background: #2a2a2a;
  color: #eee;
  box-shadow: 0 2px 6px rgba(0,0,0,0.4);
}
.author-row .link { color: #2f6dfc; font-weight: 600; cursor: pointer; text-decoration: none; }
body.dark-mode .author-row .link { color: #4f8dff; }

/* ===== Author Detail Grid ===== */
.author-books-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 16px;
  margin-top: 12px;
}
.author-book-card {
  background: #fafafa; border-radius: 10px; padding: 10px; text-align: center;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
}
.author-book-card img {
  width: 100%; height: 160px; object-fit: cover;
  border-radius: 8px; margin-bottom: 6px;
}
.author-book-info strong { display: block; font-size: 0.92rem; margin-bottom: 2px; }
.author-book-info span { font-size: 0.82rem; color: #61656d; }
.author-book-info .rating { color: #ff9800; font-weight: 700; }

/* Dark mode for Author Detail Grid */
body.dark-mode .author-book-card {
  background: #1f1f1f;
  color: #eee;
  box-shadow: 0 2px 6px rgba(0,0,0,0.4);
}
body.dark-mode .author-book-info span { color: #ccc; }

/* ===== Recommendation Card ===== */
.recommend-card {
  background: #fff;
  border-radius: 16px;
  padding: 12px;
  text-align: center;
  box-shadow: 0 3px 10px rgba(0,0,0,0.07);
  transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.3s, color 0.3s;
}
.recommend-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 22px rgba(0,0,0,0.12);
}
.recommend-card img {
  width: 160px;
  height: 220px;
  object-fit: cover;
  border-radius: 12px;
  margin-bottom: 8px;
}
.recommend-card h3 { font-size: 1rem; margin: 6px 0 2px; font-weight: 800; }
.recommend-card p { margin: 0; color: #61656d; }
body.dark-mode .recommend-card {
  background: #1f1f1f !important;
  color: #eee !important;
  box-shadow: 0 3px 10px rgba(0,0,0,0.4);
}
body.dark-mode .recommend-card p { color: #ccc !important; }

/* ===== Loading Text ===== */
.loading-text {
  text-align: center;
  margin: 10px 0;
  font-style: italic;
  color: #777;
}
body.dark-mode .loading-text { color: #aaa; }

/* ===== Toast ===== */
#toast {
  visibility: hidden;
  min-width: 200px; margin-left: -100px;
  background: #333; color: #fff;
  text-align: center; border-radius: 8px;
  padding: 10px; position: fixed; z-index: 2000;
  left: 50%; bottom: 28px; font-size: 1rem;
}
#toast.show { visibility: visible; animation: fadein 0.4s, fadeout 0.4s 2.6s; }
@keyframes fadein { from { bottom: 0; opacity: 0; } to { bottom: 28px; opacity: 1; } }
@keyframes fadeout { from { bottom: 28px; opacity: 1; } to { bottom: 0; opacity: 0; } }
