<!-- Modal: Details for a single book -->
<div id="bookModal{{ book.id }}" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('bookModal{{ book.id }}')">&times;</span>

    <!-- Fixed-size cover ensures placeholder never looks oversized -->
    <img class="modal-cover"
         src="{{ book.cover_url if book.cover_url and book.cover_url.strip() else url_for('static', filename='default_cover.jpg') }}"
         onerror="this.onerror=null;this.src='{{ url_for('static', filename='default_cover.jpg') }}'"
         alt="Cover of {{ book.title }}">

    <h2>{{ book.title }}</h2>
    <p><strong>Author:</strong> {{ book.author.name }}</p>
    {% if book.publication_year %}<p><strong>Year:</strong> {{ book.publication_year }}</p>{% endif %}
    {% if book.isbn %}<p><strong>ISBN:</strong> {{ book.isbn }}</p>{% endif %}
    {% if book.rating %}<p><strong>Rating:</strong> {{ '%.1f'|format(book.rating) }}</p>{% endif %}

    <!-- Delete book form -->
    <form method="post" action="{{ url_for('delete_book', book_id=book.id) }}">
      <button class="btn danger" type="submit" style="display:block;margin:14px auto 0;">
        ðŸ—‘ Delete Book
      </button>
    </form>
  </div>
</div>
