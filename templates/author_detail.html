<!-- Modal: Details for a single author -->
<div id="authorModal{{ author.id }}" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('authorModal{{ author.id }}')">&times;</span>
    <h2>{{ author.name }}</h2>

    {% if author.books %}
      <!-- Grid of books by this author -->
      <div class="author-books-grid">
        {% for book in author.books %}
          <div class="author-book-card" onclick="openModal('bookModal{{ book.id }}')">
            <img src="{{ book.cover_url if book.cover_url and book.cover_url.strip() else url_for('static', filename='default_cover.jpg') }}"
                 onerror="this.onerror=null;this.src='{{ url_for('static', filename='default_cover.jpg') }}'"
                 alt="Cover of {{ book.title }}">
            <div class="author-book-info">
              <strong>{{ book.title }}</strong>
              {% if book.publication_year %}<span>{{ book.publication_year }}</span>{% endif %}
              {% if book.rating %}<span class="rating">‚≠ê {{ '%.1f'|format(book.rating) }}</span>{% endif %}
            </div>
          </div>
        {% endfor %}
      </div>

      <!-- Book modals for each book -->
      {% for book in author.books %}
        {% include 'book_detail.html' %}
      {% endfor %}
    {% else %}
      <p>No books available for this author.</p>
    {% endif %}
  </div>
</div>
